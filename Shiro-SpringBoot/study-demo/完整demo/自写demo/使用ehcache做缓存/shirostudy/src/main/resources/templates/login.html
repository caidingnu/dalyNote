<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>登录页面</title>
    <link rel="stylesheet" href="/ziyuan/layui/css/layui.css"/>
    <script type="text/javascript" src="/ziyuan/js/jquery-1.7.2.js"></script>
</head>

<body>
<br/>
<div class="layui-form-item">
    <label class="layui-form-label">用户名:</label>
    <div class="layui-input-block">
        <!-- 1、参数必须被命名为 userName，不能为 username，保持和实体中的属性一致 -->
        <input type="text" id="userName" name="userName" placeholder="userName" value="jking1" class="layui-input"
               autocomplete="off"><br/>
    </div>

    <label class="layui-form-label">密码:</label>
    <div class="layui-input-block">
        <!-- 2、同理密码参数必须被命名为 password -->
        <input type="password" id="password" name="password" placeholder="password" value="123"
               class="layui-input"><br/>
    </div>
</div>

<div class="layui-form-item">
    <div class="layui-input-block">
        <!--				<input type="submit" id="loginBtn" value="登录" class="layui-btn"></input>-->
        <button class="layui-btn layui-btn-warm" id="loginBtn">登录</button>
    </div>
    <div class="layui-input-block">
        <!--				<input type="submit" id="loginBtn" value="登录" class="layui-btn"></input>-->
        <button class="layui-btn layui-btn-warm" id="register" onclick="window.location.href ='/page/register'">注册</button>
    </div>
</div>
</body>

<script type="text/javascript">
    $("#loginBtn").click(function () {
        $.post("http://localhost/user/login", {
            userName: $("#userName").val(),
            password: $("#password").val()
            // rememberMe: true //记住我
        }, function (result) {
            if (result.success) {
                window.location.href = "http://localhost/page/main";
                //必须加上，否则跳转不了
            } else {
                alert(result.errorInfo);
            }
        },"json");

    });
</script>

</html>